{"version":3,"file":"SponsorCard-C5JmZWpy.js","sources":["../../../src/services/sponsorsService.ts","../../../src/hooks/useSponsors.ts","../../../src/components/SponsorCard.tsx"],"sourcesContent":["import { Sponsor } from '../types';\nimport { getResourceUrl } from '../utils/config';\n\n/**\n * Fetch sponsors data from the public JSON file\n * @returns Promise with sponsors data\n */\nexport const fetchSponsors = async (): Promise<Sponsor[]> => {\n  try {\n    // Use the getResourceUrl utility to construct the correct URL\n    const sponsorsUrl = getResourceUrl('data/sponsors.json');\n    \n    // Always use the JSON file from the public directory\n    const response = await fetch(sponsorsUrl);\n    if (!response.ok) {\n      console.warn('Failed to fetch sponsors from public directory, using empty array as fallback');\n      return [];\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching sponsors:', error);\n    // Fallback to empty array if there's an error\n    return [];\n  }\n};\n","import { useState, useEffect, useCallback } from 'react';\nimport { Sponsor } from '../types';\nimport { fetchSponsors } from '../services/sponsorsService';\n\ninterface UseSponsorsReturn {\n  sponsors: Sponsor[];\n  loading: boolean;\n  error: string | null;\n  refreshSponsors: () => Promise<void>;\n}\n\nexport const useSponsors = (): UseSponsorsReturn => {\n  const [sponsors, setSponsors] = useState<Sponsor[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Function to load sponsors\n  const loadSponsors = useCallback(async (): Promise<void> => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // Fetch sponsors from the API\n      const fetchedSponsors = await fetchSponsors();\n      setSponsors(fetchedSponsors);\n    } catch (err) {\n      const errorMessage = err instanceof Error \n        ? err.message \n        : 'Failed to load sponsors. Please try again later.';\n      \n      setError(errorMessage);\n      console.error('Error loading sponsors:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Function to manually refresh sponsors\n  const refreshSponsors = useCallback(async (): Promise<void> => {\n    return loadSponsors();\n  }, [loadSponsors]);\n\n  // Load sponsors on component mount\n  useEffect(() => {\n    loadSponsors();\n  }, [loadSponsors]);\n\n  return { sponsors, loading, error, refreshSponsors };\n};\n\nexport default useSponsors; ","import { Sponsor } from '../types';\nimport '../assets/css/sponsor-card.css';\nimport { getResourceUrl } from '../utils/config';\nimport { useState } from 'react';\n\ninterface SponsorCardProps {\n  sponsor: Sponsor;\n  size?: 'normal' | 'large';\n}\n\nconst SponsorCard = ({ sponsor, size = 'normal' }: SponsorCardProps) => {\n  const [imageError, setImageError] = useState(false);\n\n  // Use getResourceUrl to handle the base path correctly\n  const getImagePath = () => {\n    return getResourceUrl(`images/sponsors/${sponsor.logo}`);\n  };\n\n  // Fallback for image loading errors\n  const handleImageError = () => {\n    console.warn(`Failed to load sponsor logo: ${sponsor.logo}`);\n    setImageError(true);\n  };\n\n  return (\n    <div className={`sponsor-card size-${size}`}>\n      <div className=\"sponsor-logo-container\">\n        <a href={sponsor.website} target=\"_blank\" rel=\"noopener noreferrer\" aria-label={`${sponsor.name} website`}>\n          {imageError ? (\n            <div className=\"sponsor-logo-fallback\">\n              {sponsor.name.charAt(0)}\n            </div>\n          ) : (\n            <img \n              src={getImagePath()} \n              alt={`${sponsor.name} logo`} \n              className=\"sponsor-logo\" \n              onError={handleImageError}\n            />\n          )}\n        </a>\n      </div>\n      \n      <div className=\"sponsor-content\">\n        <h3 className=\"sponsor-name\">{sponsor.name}</h3>\n        <p className=\"sponsor-description\" style={{ textTransform: 'none' }}>{sponsor.description}</p>\n        <a \n          href={sponsor.website} \n          className=\"sponsor-link\" \n          target=\"_blank\" \n          rel=\"noopener noreferrer\"\n          aria-label={`Visit ${sponsor.name} website`}\n        >\n          Visit Website <i className=\"fas fa-external-link-alt\" aria-hidden=\"true\"></i>\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default SponsorCard; "],"names":["useSponsors","sponsors","setSponsors","useState","loading","setLoading","error","setError","loadSponsors","useCallback","async","fetchedSponsors","sponsorsUrl","getResourceUrl","response","fetch","ok","json","fetchSponsors","err","errorMessage","Error","message","refreshSponsors","useEffect","SponsorCard","sponsor","size","imageError","setImageError","className","children","_jsx","href","website","target","rel","name","charAt","src","logo","alt","onError","handleImageError","_jsxs","style","textTransform","description"],"mappings":"0HAOO,MCIMA,EAAcA,KACzB,MAAOC,EAAUC,GAAeC,EAAAA,SAAoB,KAC7CC,EAASC,GAAcF,EAAAA,UAAkB,IACzCG,EAAOC,GAAYJ,EAAAA,SAAwB,MAG5CK,EAAeC,EAAAA,aAAYC,UAC/BL,GAAW,GACXE,EAAS,MAEL,IAEII,MAAAA,ODhBiBD,WACvB,IAEIE,MAAAA,EAAcC,EAAe,sBAG7BC,QAAiBC,MAAMH,GACzB,OAACE,EAASE,SAIDF,EAASG,OAFb,SAGFX,GAGP,MAAO,EAAE,GCCuBY,GAC9BhB,EAAYS,SACLQ,GACP,MAAMC,EAAeD,aAAeE,MAChCF,EAAIG,QACJ,mDAEJf,EAASa,EACmC,CACpC,QACRf,GAAW,EAAK,IAEjB,IAGGkB,EAAkBd,EAAAA,aAAYC,SAC3BF,KACN,CAACA,IAOG,OAJPgB,EAAAA,WAAU,KACKhB,GAAA,GACZ,CAACA,IAEG,CAAEP,WAAUG,UAASE,QAAOiB,kBAAgB,ECrC/CE,EAAcA,EAAGC,UAASC,OAAO,aACrC,MAAOC,EAAYC,GAAiB1B,EAAAA,UAAS,iBAc3C,MAAA,CAAK2B,UAAW,qBAAqBH,IAAOI,UAC1CC,EAAAA,IAAA,MAAA,CAAKF,UAAU,yBAAwBC,eACrC,IAAA,CAAGE,KAAMP,EAAQQ,QAASC,OAAO,SAASC,IAAI,sBAAsB,aAAY,GAAGV,EAAQW,eAAeN,SACvGH,EACCI,EAAAA,IAAA,MAAA,CAAKF,UAAU,wBAAuBC,SACnCL,EAAQW,KAAKC,OAAO,KAGvBN,EAAAA,IAAA,MAAA,CACEO,IAnBH1B,EAAe,mBAAmBa,EAAQc,QAoBvCC,IAAK,GAAGf,EAAQW,YAChBP,UAAU,eACVY,QAlBaC,KAEvBd,GAAc,EAAI,QAsBhBe,EAAAA,KAAA,MAAA,CAAKd,UAAU,kBAAiBC,UAC9BC,EAAAA,IAAA,KAAA,CAAIF,UAAU,eAAcC,SAAEL,EAAQW,OACtCL,EAAAA,IAAA,IAAA,CAAGF,UAAU,sBAAsBe,MAAO,CAAEC,cAAe,QAASf,SAAEL,EAAQqB,cAC9EH,EAAAA,KAAA,IAAA,CACEX,KAAMP,EAAQQ,QACdJ,UAAU,eACVK,OAAO,SACPC,IAAI,sBACJ,aAAY,SAASV,EAAQW,eAAeN,SAAA,CAC7C,iBACeC,EAAAA,IAAA,IAAA,CAAGF,UAAU,2BAA2B,cAAY,iBAGnE"}