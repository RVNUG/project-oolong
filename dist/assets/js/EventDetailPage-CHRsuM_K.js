import{e,f as a,u as s,r as n}from"./vendor-BMipNHhy.js";import{u as t,b as l,f as i,i as r,a as o,E as c}from"./custom-fixes-DQTvXPxn.js";import{S as d}from"./SEO-DVCxk5o3.js";import{j as m,b as v,g as u,c as f,J as j,s as x}from"./index-S4W26C3k.js";import"./config-ioy8dq5D.js";import"./ui-YEx9aUBQ.js";const h=()=>{const{id:h}=e(),N=a(),g=s(),{events:p,loading:b,error:_}=t(),[k,E]=n.useState(null),[$,T]=n.useState(!1);if(n.useEffect((()=>{if(!b&&!_&&p.length>0&&h){const e=p.find((e=>e.id===h));e?E(e):N("/events")}}),[p,b,_,h,N]),b)return m.jsx("div",{className:"loading",children:"Loading event details..."});if(_)return m.jsxs("div",{className:"error-message",children:["Error: ",_]});if(!k)return m.jsx("div",{className:"loading",children:"Event not found. Redirecting..."});const w=k.local_date?l(k.local_date):"Date not available",S=k.local_time?i(k.local_time):"Time not available";let y=null;try{k.local_date&&k.local_time&&(y=new Date(`${k.local_date}T${k.local_time}`),isNaN(y.getTime())&&(y=null))}catch(B){y=null}const D=r(k),L=e=>{if(!e)return"";let a=`${e.name} - `;if(e.local_date&&e.local_time&&(a+=`Event on ${new Date(e.local_date).toLocaleDateString()} `),e.venue&&e.venue.name&&(a+=`at ${e.venue.name}. `),e.description){const s=x(e.description,{allowedTags:[],allowedAttributes:{}});a+=s.length>150?s.substring(0,147)+"...":s}else a+="Join us for this Roanoke Valley .NET User Group event.";return a},R=v(k),O=u(),V=f([{name:"Home",url:O},{name:"Events",url:`${O}/events`},{name:k.name,url:`${O}/event/${k.id}`}]),A=o(k.venue,D);return m.jsxs("div",{className:"event-detail-page",children:[m.jsx(d,{title:`${k.name} - RVNUG Event`,description:L(k),keywords:`event, meetup, .NET, ${k.name}, tech event, Roanoke`,ogTitle:k.name,ogDescription:L(k),ogType:"event",ogImage:"/images/roanoke-star-128-logo.png",pathName:g.pathname}),m.jsx(j,{data:R}),m.jsx(j,{data:V}),m.jsxs("div",{className:"event-detail-card",children:[m.jsxs("div",{className:"event-detail-title-section",children:[m.jsxs("button",{className:"back-button",onClick:()=>N("/events"),children:[m.jsx("i",{className:"fas fa-arrow-left"})," Back to Events"]}),m.jsx("h1",{children:k.name}),m.jsxs("div",{className:"event-time-location",children:[m.jsxs("div",{className:"event-datetime",children:[m.jsx("i",{className:"far fa-calendar-alt"})," ",w,m.jsx("span",{className:"divider",children:"|"}),m.jsx("i",{className:"far fa-clock"})," ",S]}),m.jsxs("div",{className:"event-venue",children:[m.jsx("i",{className:D?"fas fa-video":"fas fa-map-marker-alt"}),D?"Online Event":k.venue?k.venue.name:"Location TBD",A&&!D&&m.jsx("div",{className:"venue-address",children:A})]})]}),D?m.jsxs("div",{className:"event-status",children:[m.jsx("i",{className:"fas fa-wifi"})," Online Event"]}):null]}),m.jsxs("div",{className:"event-detail-content",children:[k.featured_photo&&!$?m.jsx("div",{className:"event-featured-image",children:m.jsx("img",{src:k.featured_photo.photo_link,alt:`${k.name} featured image`,onError:()=>{T(!0)}})}):m.jsxs("div",{className:"event-image-fallback",children:[m.jsx("div",{className:"event-image-fallback-icon",children:m.jsx("i",{className:"fas fa-calendar-alt","aria-hidden":"true"})}),m.jsx("span",{children:k.name})]}),m.jsx("div",{className:"event-description",dangerouslySetInnerHTML:{__html:k.description}}),m.jsxs("div",{className:"event-detail-actions",children:[m.jsxs("a",{href:k.link,className:"btn btn-primary",target:"_blank",rel:"noopener noreferrer",children:[m.jsx("i",{className:"fas fa-external-link-alt"})," RSVP on Meetup"]}),m.jsx(c,{event:k,buttonLabel:"Add to Calendar",className:"btn btn-calendar"})]})]})]})]})};export{h as default};
//# sourceMappingURL=EventDetailPage-CHRsuM_K.js.map
